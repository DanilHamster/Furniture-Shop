{% extends 'base.html' %}
{% load crispy_forms_filters %}
{% load static %}

{% block content %}
<div class="container py-5 px-4">
  <div class="p-5 rounded-4 shadow-lg" style="
    background-color: rgba(105, 113, 120, 0.7);
    color: #f8f9fa;
    border-left: 6px solid gold;
    backdrop-filter: blur(4px);
  ">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold" style="color: gold;">✏️ Update Your Profile</h2>
      <a href="javascript:history.back()" class="btn btn-outline-light rounded-pill px-3 shadow-sm">
        ← Back
      </a>
    </div>

    <div class="row">
      <div class="col-md-4 text-center mb-4">
        <img src="{{ user.get_image_url|default:'/static/img/default-avatar.png' }}"
             alt="{{ user.username }}"
             class="img-fluid rounded-circle border shadow-lg"
             style="height: 200px; width: 200px; object-fit: cover;">
        <p class="mt-2 text-warning fw-semibold">🖼️ Current avatar</p>
      </div>

      <div class="col-md-8">
        <form method="post" enctype="multipart/form-data" novalidate class="p-4 rounded-4 shadow-sm" style="background-color: rgba(255,255,255,0.05);">
          {% csrf_token %}
          {{ form|crispy }}
          <div class="text-end mt-3">
            <button type="submit" class="btn btn-warning rounded-pill px-4 shadow-sm">
              💾 Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}